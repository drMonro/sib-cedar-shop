{#<h3>{{ heading_title }}</h3>#}

{#<div class="row">#}
{#    {% for product in products %}#}
{#        <div id="product" class="product-layout col-lg-3 col-md-3 col-sm-6 col-xs-12">#}
{#            <div class="product-thumb transition">#}
{#                <div class="image"><a href="{{ product.href }}"><img src="{{ product.thumb }}" alt="{{ product.name }}" title="{{ product.name }}" class="img-responsive"/></a></div>#}
{#                <div class="caption">#}
{#                    <h4><a href="{{ product.href }}">{{ product.name }}</a></h4>#}
{#                    <p>{{ product.description }}</p>#}
{#                    {% if options %}#}
{#                        <hr>#}
{#                        <h3>{{ text_option }}</h3>#}
{#                        {% for option in options %}#}
{#                            {% if option.type == 'radio' %}#}
{#                                <div class="form-group{% if option.required %} required {% endif %}">#}
{#                                    <label class="control-label">{{ option.name }}</label>#}
{#                                    <div id="input-option{{ option.product_option_id }}">#}
{#                                        {% for option_value in option.product_option_value %}#}
{#                                            <div class="radio">#}
{#                                                <label>#}
{#                                                    <input type="radio" name="option[{{ option.product_option_id }}]" value="{{ option_value.product_option_value_id }}"/>#}
{#                                                    {% if option_value.image %} <img src="{{ option_value.image }}" alt="{{ option_value.name }} {% if option_value.price %} {{ option_value.price_prefix }} {{ option_value.price }} {% endif %}" class="img-thumbnail"/> {% endif %}#}
{#                                                    {{ option_value.name }}#}
{#                                                    {% if option_value.price %}#}
{#                                                        ({{ option_value.price_prefix }}{{ option_value.price }})#}
{#                                                    {% endif %}#}
{#                                                </label>#}
{#                                            </div>#}
{#                                        {% endfor %}#}
{#                                    </div>#}
{#                                </div>#}
{#                            {% endif %}#}
{#                        {% endfor %}#}
{#                    {% endif %}#}
{#                    {% if product.rating %}#}
{#                        <div class="rating">#}
{#                            {% for i in 5 %}#}
{#                                {% if product.rating < i %}#}
{#                                    <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-2x"></i></span>#}
{#                                {% else %}#}
{#                                    <span class="fa fa-stack"><i class="fa fa-star fa-stack-2x"></i><i class="fa fa-star-o fa-stack-2x"></i></span>#}
{#                                {% endif %}#}
{#                            {% endfor %}#}
{#                        </div>#}
{#                    {% endif %}#}
{#                    {% if product.price %}#}
{#                        <p class="price">#}
{#                            {% if not product.special %}#}
{#                                {{ product.price }}#}
{#                            {% else %}#}
{#                                <span class="price-new">{{ product.special }}</span> <span class="price-old">{{ product.price }}</span>#}
{#                            {% endif %}#}
{#                            {% if product.tax %}#}
{#                                <span class="price-tax">{{ text_tax }} {{ product.tax }}</span>#}
{#                            {% endif %}#}
{#                        </p>#}
{#                    {% endif %}#}

{#                </div>#}


{#                <div class="button-group">#}
{#                    <input type="hidden" name="product_id" value="{{ product.product_id }}"/>#}
{#                    #}{# <button type="button" id="button-cart"><i class="fa fa-shopping-cart"></i> <span class="hidden-xs hidden-sm hidden-md">{{ button_cart }}</span></button> #}
{#                    #}{# <button type="button" id="button-cart" onclick="cart.add('{{ product.product_id }}');"><i class="fa fa-shopping-cart"></i> <span class="hidden-xs hidden-sm hidden-md">{{ button_cart }}</span></button> #}
{#                    #}{# <button type="button" onclick="cart.add('{{ product.product_id }}');"><span class="hidden-xs hidden-sm hidden-md">{{ button_cart }}</span> <i class="fa fa-shopping-cart"></i></button> #}
{#                    <label class="control-label" for="input-quantity">{{ entry_qty }}</label>#}
{#                    <input type="text" name="quantity" value="1" size="2" id="input-quantity" class="form-control"/>#}

{#                    <button type="button" onclick="cart.add('{{ product.product_id }}', '{{ product.minimum }}');" id="button-cart"><i class="fa fa-shopping-cart"></i> <span class="hidden-xs hidden-sm hidden-md">{{ button_cart }}</span></button>#}
{#                    <button type="button" data-toggle="tooltip" title="{{ button_wishlist }}" onclick="wishlist.add('{{ product.product_id }}');"><i class="fa fa-heart"></i></button>#}
{#                    <button type="button" data-toggle="tooltip" title="{{ button_compare }}" onclick="compare.add('{{ product.product_id }}');"><i class="fa fa-exchange"></i></button>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    {% endfor %}#}
{#</div>#}

{#<script type="text/javascript">#}

{#    $('#button-cart').on('click', function () {#}

{#        $.ajax({#}
{#            url: 'index.php?route=checkout/cart/add',#}
{#            type: 'post',#}
{#            data: $('#product input[type=\'text\'], #product input[type=\'hidden\'], #product input[type=\'radio\']:checked, #product input[type=\'checkbox\']:checked, #product select, #product textarea'),#}
{#            dataType: 'json',#}
{#            beforeSend: function () {#}
{#                $('#button-cart').button('loading');#}
{#            },#}
{#            complete: function () {#}
{#                $('#button-cart').button('reset');#}

{#            },#}
{#            success: function (json) {#}
{#                if (json['error']) {#}
{#                    // console.log(json['error'])#}
{#                    if (json['error']['option']) {#}
{#                        for (i in json['error']['option']) {#}
{#                            var element = $('#input-option' + i.replace('_', '-'));#}

{#                            if (element.parent().hasClass('input-group')) {#}
{#                                element.parent().after('<div class="text-danger">' + json['error']['option'][i] + '</div>');#}
{#                            } else {#}
{#                                element.after('<div class="text-danger">' + json['error']['option'][i] + '</div>');#}
{#                            }#}
{#                        }#}
{#                    }#}

{#                    if (json['error']['recurring']) {#}
{#                        $('select[name=\'recurring_id\']').after('<div class="text-danger">' + json['error']['recurring'] + '</div>');#}
{#                    }#}
{#                    $('.text-danger').parent().addClass('has-error');#}
{#                }#}

{#                if (json['success']) {#}
{#                    console.log(json);#}

{#                    $('#cart > button').html('<span id="cart-total"><i class="fa fa-shopping-cart"></i> ' + json['total'] + '</span>');#}

{#                    $('html, body').animate({scrollTop: 0}, 'slow');#}

{#                    $('#cart > ul').load('index.php?route=common/cart/info ul li');#}
{#                }#}
{#            },#}
{#            error: function (xhr, ajaxOptions, thrownError) {#}
{#                // console.log('json-er')#}

{#                alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);#}
{#            }#}
{#        });#}
{#    });#}

{#    function AjaxLivePrice3(){#}
{#        $.ajax({#}
{#            type: 'POST',#}
{#            url: 'index.php?route=product/product/price_live',#}
{#            data: $('#product input[type=\'text\'], #product input[type=\'hidden\'], #product input[type=\'radio\']:checked, #product  input[type=\'checkbox\']:checked, #product select, #product textarea, #product input[name=\'quantity\']'),#}
{#            dataType: 'json',#}
{#            success: function(json) {#}
{#                if (json.success) {#}
{#                    console.log(json);#}
{#                    $('#content .price').html(json.new_price.price);#}
{#                    $('#content .price-specail').html(json.new_price.special);#}
{#                    $('#content .tax').html("{{ text_tax }} " + json.new_price.tax);#}
{#                }#}
{#            },#}

{#            error: function () {#}
{#                console.log('json-er')#}

{#            }#}
{#        });#}
{#    }#}
{#    $('#product input[type=\'text\'], #product input[type=\'hidden\'], #product input[type=\'radio\'], #product input[type=\'checkbox\'], #product select, #product textarea').on('change', function() {#}
{#        AjaxLivePrice3();#}
{#    });#}
{#    $('#product input[name=\'quantity\']').on('keyup', function() {#}
{#        AjaxLivePrice3();#}
{#    });#}

{#    let options = document.querySelector('#product').querySelectorAll('input[type=\'radio\']');#}
{#    options[0].click();#}

{#</script>#}
